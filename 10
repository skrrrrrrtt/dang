-- Present Egg Auto Hatch (FIXED)
-- Matches griffindoescooking PS99 framework

repeat task.wait() until game:IsLoaded()

-- Place check
if game.PlaceId ~= 8737899170
and game.PlaceId ~= 16498369169
and game.PlaceId ~= 17503543197 then
    return warn("Wrong game")
end

-- Services
local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local Workspace = game:GetService("Workspace")
local VirtualUser = game:GetService("VirtualUser")

local LocalPlayer = Players.LocalPlayer

-- Load Client modules (same method as your script)
local Client = {}
for _,v in ReplicatedStorage.Library.Client:GetChildren() do
    local success, result = pcall(require, v)
    if success then
        Client[v.Name] = result
    end
end

-- Wrapper (IDENTICAL to yours)
local function Invoke(name, args)
    Client.Network.Invoke(name, unpack(args))
end

-- SETTINGS
local EGG_ID = "Present Egg" -- ⚠️ MUST be the internal egg ID
local HATCH_AMOUNT = 35
local AUTO_HATCH = true

-- Skip animation
local function skipEgg()
    VirtualUser:Button1Down(Vector2.new(math.huge, math.huge))
    VirtualUser:Button1Up(Vector2.new(math.huge, math.huge))
end

-- Hatch loop
task.spawn(function()
    while AUTO_HATCH do
        pcall(function()
            Invoke("Eggs_RequestPurchase", {
                EGG_ID,
                HATCH_AMOUNT
            })
        end)

        repeat
            task.wait()
            skipEgg()
        until not Workspace.Camera:FindFirstChild("Eggs")

        task.wait(0.25)
    end
end)

print("✅ Present Egg hatcher running")
