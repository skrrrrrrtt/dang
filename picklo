-- Pet Simulator 99 Auto Lockpick (FIXED)

local ReplicatedStorage = game:GetService("ReplicatedStorage")
local Network = ReplicatedStorage:WaitForChild("Network")
local Players = game:GetService("Players")
local player = Players.LocalPlayer

-- CONFIG
local config = {
    autoLockpick = false,
    lockpickType = "Lockpick A",
    delayBetweenAttempts = 2,
}

-- GUI
local function createGUI()
    local screenGui = Instance.new("ScreenGui")
    screenGui.Name = "AutoLockpickGUI"
    screenGui.ResetOnSpawn = false

    local main = Instance.new("Frame", screenGui)
    main.Size = UDim2.new(0,220,0,180)
    main.Position = UDim2.new(0.5,-110,0.1,0)
    main.BackgroundColor3 = Color3.fromRGB(30,30,40)
    main.Active = true
    main.Draggable = true

    Instance.new("UICorner", main).CornerRadius = UDim.new(0,12)

    local title = Instance.new("TextLabel", main)
    title.Size = UDim2.new(1,0,0,30)
    title.BackgroundTransparency = 1
    title.Text = "ðŸ”“ Auto Lockpick"
    title.TextColor3 = Color3.new(1,1,1)
    title.Font = Enum.Font.GothamBold
    title.TextSize = 16

    local status = Instance.new("TextLabel", main)
    status.Position = UDim2.new(0,10,0,35)
    status.Size = UDim2.new(1,-20,0,20)
    status.BackgroundTransparency = 1
    status.TextXAlignment = Left
    status.Text = "Status: OFF"
    status.TextColor3 = Color3.fromRGB(255,100,100)

    local toggle = Instance.new("TextButton", main)
    toggle.Position = UDim2.new(0,10,0,130)
    toggle.Size = UDim2.new(0,200,0,40)
    toggle.BackgroundColor3 = Color3.fromRGB(220,50,50)
    toggle.Text = "START"
    toggle.Font = Enum.Font.GothamBold
    toggle.TextSize = 16
    toggle.TextColor3 = Color3.new(1,1,1)

    Instance.new("UICorner", toggle)

    screenGui.Parent = player.PlayerGui
    return toggle, status
end

-- LOCKPICK (FIXED)
local function attemptLockpick()
    local request = Network:WaitForChild("Lockpick Game: Request Unlock")
    local claim = Network:WaitForChild("Lockpick Game: Claim")

    request:FireServer({
        Lockpick = config.lockpickType
    })

    task.wait(2)
    claim:FireServer()
end

local toggle, status = createGUI()

-- LOOP
task.spawn(function()
    while task.wait(0.5) do
        if config.autoLockpick then
            pcall(attemptLockpick)
            task.wait(config.delayBetweenAttempts)
        end
    end
end)

-- TOGGLE
toggle.MouseButton1Click:Connect(function()
    config.autoLockpick = not config.autoLockpick

    if config.autoLockpick then
        toggle.Text = "STOP"
        toggle.BackgroundColor3 = Color3.fromRGB(50,220,50)
        status.Text = "Status: ON"
        status.TextColor3 = Color3.fromRGB(100,255,100)
    else
        toggle.Text = "START"
        toggle.BackgroundColor3 = Color3.fromRGB(220,50,50)
        status.Text = "Status: OFF"
        status.TextColor3 = Color3.fromRGB(255,100,100)
    end
end)

print("PS99 Auto Lockpick LOADED (FIXED)")
