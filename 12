repeat task.wait() until game:IsLoaded()

-- Place check
if game.PlaceId ~= 8737899170
and game.PlaceId ~= 16498369169
and game.PlaceId ~= 17503543197 then
    return warn("Wrong game")
end

-- Services
local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local Workspace = game:GetService("Workspace")
local VirtualUser = game:GetService("VirtualUser")

local LocalPlayer = Players.LocalPlayer
local HRP = LocalPlayer.Character:WaitForChild("HumanoidRootPart")

-- Load Client
local Client = {}
for _,v in ReplicatedStorage.Library.Client:GetChildren() do
    local ok, mod = pcall(require, v)
    if ok then
        Client[v.Name] = mod
    end
end

-- Wrapper (same as your script)
local function Invoke(name, args)
    return Client.Network.Invoke(name, unpack(args))
end

-- üî• CORRECT EVENT EGG ID
local EGG_ID = "Events.Christmas2025.5"
local HATCH_AMOUNT = 3
local AUTO_HATCH = true

-- Teleport to Present Egg pad (Santa‚Äôs Cottage)
local function goToPresentEgg()
    for _,inst in pairs(Workspace.__THINGS.Instances:GetChildren()) do
        if inst.Name:find("Present") and inst:FindFirstChild("Enter", true) then
            HRP.CFrame = inst:FindFirstChild("Enter", true).CFrame + Vector3.new(0,3,0)
            return true
        end
    end
    warn("Present Egg instance not found")
end

-- Skip animation
local function skipEgg()
    VirtualUser:Button1Down(Vector2.new(math.huge, math.huge))
    VirtualUser:Button1Up(Vector2.new(math.huge, math.huge))
end

-- Main loop
task.spawn(function()
    goToPresentEgg()
    task.wait(1)

    while AUTO_HATCH do
        local ok, err = pcall(function()
            Invoke("Eggs_RequestPurchase", {
                EGG_ID,
                HATCH_AMOUNT
            })
        end)

        if not ok then
            warn("Hatch failed:", err)
        end

        repeat
            task.wait()
            skipEgg()
        until not Workspace.Camera:FindFirstChild("Eggs")

        task.wait(0.25)
    end
end)

print("üéÅ Present Egg hatcher running (EVENT)")
